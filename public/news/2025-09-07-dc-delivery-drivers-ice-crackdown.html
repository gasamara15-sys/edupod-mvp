<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[Society] DC Delivery Drivers Shift Tactics Amid ICE Arrest Fears | EduPod 뉴스</title>
  <meta name="category" content="Society, Immigration, Economy" />
  <meta name="description" content="강화된 연방 단속 속에서 워싱턴 D.C.의 음식 배달 노동자들, 그중 상당수를 차지하는 최근 이주민들이 일하는 방식과 장소를 바꾸고 있습니다. 이러한 변화가 사람들에게 미치는 영향과 지역 상권에 미치는 파급 효과를 학생 독자들의 눈높이에서 설명해 드립니다." />
  <link rel="icon" href="/favicon.ico" />
  <link rel="canonical" href="https://www.edupod.kr/news/2025-09-07-dc-delivery-drivers-ice-crackdown.html" />
  <style>
    :root{
      --border:#e5e7eb;--muted:#6b7280;--accent:#eef2ff;--active:#fff4cc;
      --primary:#111827;--bg:#fafafa;--cta:#4f46e5;--cta-600:#4338ca;--cta-bg:#eef2ff;
      --note:#0ea5e9;--note-bg:#ecfeff;--danger:#ef4444;--danger-bg:#fff5f5;
    }
    html,body{margin:0;padding:0;background:var(--bg)}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif;color:var(--primary)}
    header{padding:12px 16px;background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:12px}
    h1{font-size:18px;margin:0;flex:1}
    .nav{display:flex;gap:8px}
    .nav a{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#fff;text-decoration:none;font-size:13px;color:var(--primary)}
    .nav a:hover{background:#f8fafc}
    main{padding:20px;max-width:980px;margin:0 auto}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px;flex:1 1 360px;box-shadow:0 1px 0 rgba(0,0,0,.02)}
    .meta{font-size:12px;color:var(--muted)}
    .pill{font-size:12px;border:1px solid var(--border);padding:2px 8px;border-radius:999px;background:#fff}
    .headline{font-weight:700}
    .small{font-size:12px;color:var(--muted)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:8px 0}
    select,button,input[type="range"]{border:1px solid var(--border);border-radius:10px;padding:8px 10px;background:#fff;cursor:pointer}
    button.primary{background:var(--cta-bg);border-color:var(--cta);color:var(--cta)}
    button.primary:hover{background:#e6e9ff;border-color:var(--cta-600);color:var(--cta-600)}
    button:disabled{opacity:.5;cursor:not-allowed}
    .level-tabs{display:flex;gap:8px;margin:8px 0 12px;flex-wrap:wrap}
    .level-tabs button{padding:6px 10px}
    .level-tabs button[aria-selected="true"]{background:#111827;color:#fff;border-color:#111827}
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:900px){ .grid{grid-template-columns:1.2fr .8fr} }
    .sent{padding:8px 10px;border-radius:8px;margin:6px 0;border:1px dashed transparent}
    .sent:hover{background:#f8fafc}
    .sent.active{background:var(--active);border-color:#fcd34d}
    .en{display:block}
    .ko{display:block;color:#374151;font-size:13px;margin-top:4px}
    .ko.hidden{display:none !important;}
    .quiz{border-top:1px dashed var(--border);margin-top:12px;padding-top:12px}
    .quiz h3{font-size:14px;margin:0 0 6px}
    .footer{font-size:12px;color:var(--muted);margin-top:16px}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;border:1px solid var(--border);border-bottom-width:2px;padding:2px 6px;border-radius:6px;background:#fff}
    .grammar{border-top:1px dashed var(--border);margin-top:12px;padding-top:12px}
    .iconbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:8px 0}
    .icon-btn{
      width:52px;height:52px;display:grid;place-items:center;
      border:2px solid var(--note);border-radius:14px;background:#fff;color:var(--note);
      box-shadow:0 1px 0 rgba(0,0,0,.03)
    }
    .icon-btn:hover{background:var(--note-bg)}
    .icon-btn:disabled{opacity:.5}
    .icon-btn svg{width:26px;height:26px;display:block}
    .icon-label{font-size:12px;color:var(--muted);margin-left:2px}
    .callout{background:#fffdf0;border:1px dashed #f59e0b;border-radius:10px;padding:10px;margin-top:8px;font-size:12px}
  </style>
      <!-- Microsoft Clarity -->
<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "svtn5vtbri");
</script>
</head>
<body>
<header>
  <h1>EduPod 뉴스
    <span class="meta">— 2025-09-07 ·
      <span class="pill">Society</span>
      <span class="pill">Immigration</span>
      <span class="pill">Economy</span>
    </span>
  </h1>
  <nav class="nav" aria-label="주요 이동">
    <a href="/" id="homeLink" title="홈으로">홈으로</a>
    <a href="/news.html/" id="newsListLink" title="뉴스 리스트">뉴스 리스트</a>
  </nav>
</header>

<main>
  <div class="row">
    <div class="card" style="flex:1 1 100%">
      <div class="level-tabs" role="tablist">
        <button role="tab" id="tab-low" aria-selected="false">초등 저학년 (A1–A2)</button>
        <button role="tab" id="tab-high" aria-selected="false">초등 고학년 (A2–B1)</button>
        <button role="tab" id="tab-mid" aria-selected="true">중학생 (A2–B1)</button>
        <button role="tab" id="tab-hs" aria-selected="false">고등/수능 (B2–C1)</button>
      </div>

      <!-- 재생 아이콘 버튼 -->
      <div class="iconbar" aria-label="재생 컨트롤">
        <button id="playAll" class="icon-btn" title="전체 재생" aria-label="전체 재생">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <button id="pauseBtn" class="icon-btn" title="일시정지" aria-label="일시정지">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
        </button>
        <button id="resumeBtn" class="icon-btn" title="재개" aria-label="재개">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <button id="stopBtn" class="icon-btn" title="정지" aria-label="정지">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 6h12v12H6z"/></svg>
        </button>
        <span class="icon-label">문장 클릭: 해당 문장만 반복</span>
      </div>

      <div class="controls">
        <label class="small" for="voiceSelect">음성:</label>
        <select id="voiceSelect" aria-label="Voice"></select>
        <span class="small">속도 프리셋:</span>
        <button class="preset" data-rate="0.9">처음 듣기</button>
        <button class="preset" data-rate="1.0">보통</button>
        <button class="preset" data-rate="1.15">빠르게</button>
        <span class="small">세부 속도</span>
        <input id="rate" type="range" min="0.7" max="1.4" step="0.05" value="1.0" />
        <span class="small" id="rateLabel">1.00×</span>
      </div>

      <div class="callout">※ 교육용 요약: 취업·이민 관련 정보는 지역 법률 단체나 공공기관에서 최신 안내를 확인하세요. 안전을 위해 교통법규와 지역 규정을 준수하는 것이 중요합니다.</div>
    </div>
  </div>

  <div class="grid">
    <div class="card" id="articleCard">
      <div class="meta"><span class="pill" id="topicPill">Society</span> <span class="pill" id="cefrPill">A2–B1</span></div>
      <div class="headline" id="headline">Fearing ICE Arrests, DC’s Migrant Delivery Drivers Change Tactics—or Leave</div>
      <p class="small" id="dek">Heightened federal enforcement in Washington has pushed many food couriers—especially recent Venezuelan migrants—to switch vehicles, avoid certain streets, or exit the city, straining local businesses.</p>

      <!-- 한국어 전체 토글 -->
      <div class="controls" id="koToggleControls">
        <button id="toggleAllKoBtn" class="primary">한국어 가리기</button>
        <span class="small">각 레벨 지문의 한국어 해석을 전체 가립니다.</span>
      </div>

      <div id="sentences"></div>
      <div class="footer">문장을 클릭하면 해당 부분만 <span class="kbd">반복</span> 재생합니다. 전체 재생 중 <span class="kbd">일시정지/재개</span> 가능.</div>

      <div class="quiz">
        <h3>퀴즈</h3>
        <ol id="quizList"></ol>
      </div>

      <div class="grammar" id="grammarBox" style="display:none">
        <h3 id="grammarTitle" style="margin:0 0 6px">문법 포인트</h3>
        <ol id="grammarList"></ol>
      </div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 6px">단어장</h2>
      <ul id="vocab"></ul>
      <p class="small">영어 문장 아래에 한국어 해석이 함께 제공됩니다.</p>
    </div>
  </div>
</main>

<script>
/* =========================
   레벨별 콘텐츠 데이터
   ========================= */
const DATA = {
  /* -------- 초등 저학년 (A1–A2) 14줄 -------- */
  low: {
    topic: "Society",
    cefr: "A1–A2",
    headline: "Drivers Feel Scared in Washington, DC",
    dek: "단속이 강해지자, 배달 기사들이 길에서 기다리기 무서워졌어요.",
    sents: [
      {en:"In Washington, DC, many food delivery drivers feel scared.", ko:"워싱턴 DC에서 많은 음식 배달 기사들이 두려움을 느끼고 있어요."},
      {en:"They worry about immigration officers stopping them.", ko:"그들은 이민 단속 요원이 자신들을 막을까 걱정해요."},
      {en:"Some drivers used to wait on corners for orders.", ko:"예전에는 기사들이 길모퉁이에서 주문을 기다렸어요."},
      {en:"Now those corners are quiet.", ko:"이제 그곳은 조용해졌어요."},
      {en:"Some switch from mopeds to bicycles.", ko:"어떤 기사는 스쿠터 대신 자전거를 타요."},
      {en:"They hope to avoid extra attention.", ko:"눈에 덜 띄기를 바라는 거예요."},
      {en:"Others leave the city to feel safer.", ko:"다른 이들은 더 안전하기 위해 도시를 떠나요."},
      {en:"Restaurants wait longer for pickups.", ko:"식당은 픽업까지 더 오래 기다려야 해요."},
      {en:"Sales are going down at some shops.", ko:"일부 가게의 매출은 떨어지고 있어요."},
      {en:"Families worry about arrests.", ko:"가족들은 체포될까 걱정해요."},
      {en:"A few drivers say, “Please let us work.”", ko:"몇몇 기사는 “우리가 일하게 해 주세요”라고 말해요."},
      {en:"People want safety and respect.", ko:"사람들은 안전과 존중을 원해요."},
      {en:"Rules matter, but so do people’s lives.", ko:"규칙도 중요하지만 사람들의 삶도 중요해요."},
      {en:"Communities are looking for solutions.", ko:"지역사회는 해결책을 찾고 있어요."}
    ],
    vocab: [
      ["delivery driver","배달 기사","The delivery driver picked up the order."],
      ["immigration officer","이민 단속 요원","People worry about immigration officers."],
      ["pickup","픽업(수거)","Restaurants wait for pickup."]
    ],
    quiz: [
      {q:"What did some drivers switch to?", options:["Bicycles","Boats","Trains"], answer:0},
      {tf:true, stmt:"Some restaurants wait longer for pickups now.", answer:true},
      {q:"Why are some corners quiet?", options:["Drivers are afraid","It is winter","Roads are closed"], answer:0}
    ]
  },

  /* -------- 초등 고학년 (A2–B1) 18줄 -------- */
  high: {
    topic: "Society",
    cefr: "A2–B1",
    headline: "Why DC’s Delivery Drivers Are Changing How They Work",
    dek: "단속 강화로 배달 기사들이 이동 수단과 일하는 장소를 바꾸고 있어요.",
    sents: [
      {en:"Federal officers now patrol with local police in parts of DC.", ko:"DC의 일부 지역에서는 연방 요원이 지역 경찰과 함께 순찰합니다."},
      {en:"Drivers say they feel unsafe waiting for orders on the street.", ko:"기사들은 길에서 주문을 기다리는 것이 안전하지 않다고 말합니다."},
      {en:"Many migrants, including Venezuelans, work as couriers.", ko:"베네수엘라 출신을 포함한 많은 이민자가 배달 일을 합니다."},
      {en:"Some switch from mopeds to bikes to avoid traffic stops.", ko:"일부는 교통 단속을 피하려 스쿠터에서 자전거로 바꿉니다."},
      {en:"Others no longer enter DC; they work in nearby suburbs.", ko:"다른 이들은 DC에 들어가지 않고 인근 교외에서 일합니다."},
      {en:"Business owners report late pickups and fewer drivers.", ko:"가게 주인들은 픽업 지연과 기사 감소를 보고합니다."},
      {en:"One restaurant said sales fell by about 30%.", ko:"한 식당은 매출이 약 30% 감소했다고 했습니다."},
      {en:"Another shop saw an even larger drop.", ko:"다른 가게는 더 큰 하락을 겪었습니다."},
      {en:"Some workers fear being separated from family.", ko:"일부 근로자는 가족과 떨어질까 두려워합니다."},
      {en:"A few women drivers stopped going into DC at all.", ko:"몇몇 여성 기사는 아예 DC에 들어가지 않습니다."},
      {en:"Advocates say drivers worry about being targeted.", ko:"옹호 단체는 기사들이 표적이 될까 걱정한다고 말합니다."},
      {en:"Officials say the goal is public safety.", ko:"당국은 목표가 공공 안전이라고 말합니다."},
      {en:"Meanwhile, neighborhoods feel the economic hit.", ko:"한편 지역사회는 경제적 타격을 느낍니다."},
      {en:"Apps have different ID requirements for couriers.", ko:"배달 앱마다 기사 신원 요건이 다릅니다."},
      {en:"That affects who can work on which platform.", ko:"이는 어떤 플랫폼에서 누가 일할 수 있는지에 영향을 줍니다."},
      {en:"Drivers ask for clear rules and fair treatment.", ko:"기사들은 명확한 규정과 공정한 대우를 요청합니다."},
      {en:"Communities seek solutions that balance safety and livelihoods.", ko:"지역사회는 안전과 생계를 균형 있게 하는 해법을 찾고 있습니다."},
      {en:"For now, tactics are changing day by day.", ko:"당분간 기사들의 방식은 날마다 바뀌고 있습니다."}
    ],
    vocab: [
      ["patrol","순찰하다","Officers patrol the neighborhood."],
      ["traffic stop","교통 단속 정지","They fear a traffic stop."],
      ["requirement","요건/요구사항","Apps have different requirements."]
    ],
    quiz: [
      {q:"Why switch from mopeds to bikes?", options:["Avoid traffic stops","Save candy","Climb mountains"], answer:0},
      {tf:true, stmt:"Some shops report fewer drivers and late pickups.", answer:true},
      {q:"What do drivers ask for?", options:["Clear rules and fair treatment","Free movies","Long vacations"], answer:0}
    ]
  },

  /* -------- 중학생 (A2–B1) 22줄 -------- */
  mid: {
    topic: "Immigration",
    cefr: "A2–B1",
    headline: "DC Crackdown Reshapes Immigrant Delivery Work—and Local Business",
    dek: "배달 기사들의 안전 우려와 상권의 매출 감소가 동시에 나타나는 가운데, 지역사회는 해법을 찾고 있습니다.",
    sents: [
      {en:"Heightened federal enforcement in Washington, DC has altered daily routines for immigrant delivery drivers.", ko:"워싱턴 DC에서 연방 단속이 강화되며 이민자 배달 기사들의 일상이 바뀌었습니다."},
      {en:"Drivers scan streets for unmarked federal vehicles before pickups.", ko:"기사는 픽업 전에 눈에 띄지 않는 연방 차량이 있는지 거리를 살핍니다."},
      {en:"Moped gatherings once filled corners with music and chatter; now many corners are empty.", ko:"스쿠터 기사들로 북적이던 길모퉁이는 음악과 대화로 가득했지만, 지금은 비어 있습니다."},
      {en:"Some Venezuelan drivers switch to bikes to reduce stops for minor traffic issues.", ko:"일부 베네수엘라 출신 기사는 경미한 교통 문제로 단속되는 일을 줄이기 위해 자전거로 바꿉니다."},
      {en:"Others avoid DC entirely, working in Maryland or Virginia.", ko:"다른 이들은 DC를 완전히 피하고 메릴랜드나 버지니아에서 일합니다."},
      {en:"Restaurants report 30–60% drops in delivery sales due to fewer available couriers.", ko:"가용 기사가 줄면서 식당들은 배달 매출이 30~60% 감소했다고 보고합니다."},
      {en:"Workers fear arrests separating them from children or relatives.", ko:"근로자들은 체포로 자녀나 친척과 떨어질까 두려워합니다."},
      {en:"Advocates say drivers fear being misidentified as undocumented regardless of status.", ko:"옹호 단체는 기사들이 신분과 상관없이 미등록자로 오인될까 두려워한다고 말합니다."},
      {en:"Delivery apps vary in ID requirements, shaping who can get approved.", ko:"배달 앱의 신원 요건이 달라 승인 여부에 영향을 줍니다."},
      {en:"Some drivers emphasize they just want to work and pay bills.", ko:"일부 기사는 그저 일하고 생계를 유지하고 싶다고 말합니다."},
      {en:"Officials say the enforcement aims to improve public safety.", ko:"당국은 단속의 목적이 공공 안전 향상이라고 말합니다."},
      {en:"Community groups organize legal clinics and safety briefings.", ko:"지역 단체들은 법률 상담과 안전 안내를 마련합니다."},
      {en:"Business corridors in Mount Pleasant and Columbia Heights see fewer customers.", ko:"마운트 플레전트와 컬럼비아 하이츠 상권은 손님이 줄었습니다."},
      {en:"Some kitchens run short-staffed after worker arrests.", ko:"일부 주방은 근로자 체포 이후 인력이 부족합니다."},
      {en:"Drivers adopt tactics: shorter waits, discrete parking, bike lanes instead of main roads.", ko:"기사들은 대기 시간 단축, 눈에 띄지 않는 주차, 대로 대신 자전거도로 이용 등 전술을 씁니다."},
      {en:"Families set phone trees to respond quickly if someone is detained.", ko:"가족들은 누군가가 구금될 경우 신속 대응을 위한 연락망을 마련합니다."},
      {en:"For many, the choice is risk exposure in DC or income loss elsewhere.", ko:"많은 이들에게 선택지는 DC에서의 위험 노출이거나 다른 곳에서의 소득 감소입니다."},
      {en:"Neighborhood economies depend on reliable delivery networks.", ko:"지역 경제는 안정적인 배달 네트워크에 의존합니다."},
      {en:"Clear information can reduce fear-driven disruptions.", ko:"명확한 정보 제공은 공포로 인한 혼란을 줄일 수 있습니다."},
      {en:"Local dialogue focuses on balancing safety and livelihoods.", ko:"지역 대화의 초점은 안전과 생계의 균형입니다."},
      {en:"Until then, drivers keep adapting—day by day.", ko:"그때까지 기사들은 하루하루 적응해 나갑니다."},
      {en:"Communities watch, wait, and hope for stability.", ko:"지역사회는 안정화를 바라며 지켜보고 있습니다."}
    ],
    vocab: [
      ["crackdown","강력 단속","A crackdown reshaped routines."],
      ["detain","구금하다","Families fear someone may be detained."],
      ["corridor (business)","상권/상업지구","The business corridor saw fewer customers."]
    ],
    quiz: [
      {q:"Why did some drivers switch to bikes?", options:["Reduce traffic stops","Join a race","Carry heavier orders"], answer:0},
      {tf:true, stmt:"Delivery sales fell in several DC neighborhoods.", answer:true},
      {q:"What balance are communities seeking?", options:["Safety and livelihoods","Sports and music","Prices and colors"], answer:0}
    ],
    grammar: [
      {
        en:"Because drivers feel unsafe, they avoid certain streets.",
        ko:"기사들이 안전하지 않다고 느끼기 때문에 특정 거리를 피한다.",
        point:"접속사 Because로 이유 표현",
        q:"(___) drivers feel unsafe, they avoid certain streets.",
        options:["Because","Although","Unless"],
        answer:0
      },
      {
        en:"If enforcement eases, sales may recover.",
        ko:"단속이 완화되면 매출이 회복될 수 있다.",
        point:"조건문 If + 현재, may + 동사원형",
        q:"If enforcement (___), sales (___) recover.",
        options:["eases / may","ease / must","eased / will"],
        answer:0
      }
    ]
  },

  /* -------- 고등/수능 (B2–C1) 26줄 -------- */
  hs: {
    topic: "Economy",
    cefr: "B2–C1",
    headline: "Enforcement, Fear, and the Platform Economy: DC’s Delivery Shock",
    dek: "현장 단속과 불안 심리가 배달 네트워크, 상권, 플랫폼 승인 구조를 통해 어떻게 파급되는가.",
    sents: [
      {en:"Federal enforcement surges in Washington, DC have reconfigured the gig supply chain that links apps, drivers, and restaurants.", ko:"워싱턴 DC의 연방 단속 강화는 앱·기사·식당을 잇는 긱 이코노미 공급망을 재구성했습니다."},
      {en:"For many couriers—especially recent Venezuelan migrants—risk calculus now precedes every pickup.", ko:"특히 최근 베네수엘라 출신 기사들에게는 모든 픽업 전에 위험 계산이 선행됩니다."},
      {en:"Tactics have shifted: bikes over mopeds, side streets over main arteries, shorter dwell times at pickup points.", ko:"전술은 바뀌었습니다: 스쿠터 대신 자전거, 대로 대신 이면도로, 픽업 지점 체류 시간 단축."},
      {en:"Some drivers exit DC entirely, relocating to adjacent counties or leaving delivery work.", ko:"일부 기사는 DC를 떠나 인근 카운티로 옮기거나 배달 일을 그만둡니다."},
      {en:"Merchants report prolonged pickup lag and double-digit sales declines.", ko:"상인들은 픽업 지연과 두 자릿수 매출 감소를 보고합니다."},
      {en:"Labor gaps ripple: short-staffed kitchens, reduced store hours, and fewer returning customers.", ko:"인력 공백이 파급됩니다: 인력 부족 주방, 단축 영업, 재방문 고객 감소."},
      {en:"Platform heterogeneity matters: ID and licensing requirements shape workforce access.", ko:"플랫폼 이질성은 중요합니다: 신원·면허 요건이 노동력 접근성을 좌우합니다."},
      {en:"Advocates warn of misidentification risks regardless of immigration status.", ko:"옹호 단체는 이민 신분과 무관한 오인 가능성을 경고합니다."},
      {en:"Household strategies emerge: phone trees, buddy systems, and off-peak scheduling.", ko:"가구 차원의 대응도 나타납니다: 연락망, 동반 근무, 비혼잡 시간대 근무."},
      {en:"Policymakers frame federalization as a public safety imperative.", ko:"정책 당국은 연방화 조치를 공공 안전의 필요로 제시합니다."},
      {en:"Economically, delivery is infrastructure for urban food demand; when trust erodes, friction taxes rise.", ko:"경제적으로 배달은 도시 식품 수요의 인프라입니다; 신뢰가 약화되면 마찰 비용이 증가합니다."},
      {en:"Risk communication that is timely, specific, and bilingual can reduce panic-driven inefficiencies.", ko:"시의적절하고 구체적이며 이중언어인 위험 소통은 공포로 인한 비효율을 줄일 수 있습니다."},
      {en:"Data collaboration among cities, platforms, and merchants can track service coverage gaps.", ko:"도시·플랫폼·상인 간 데이터 협업은 서비스 공백을 추적할 수 있습니다."},
      {en:"Community legal clinics and safety briefings help restore predictability for workers.", ko:"지역 법률 상담과 안전 안내는 노동자의 예측 가능성을 복원하는 데 도움됩니다."},
      {en:"In the interim, drivers’ micro-tactics remain the margin between income and interruption.", ko:"과도기에는 기사들의 미시적 전술이 소득과 중단의 경계가 됩니다."},
      {en:"Ultimately, the platform economy depends on perceived safety as much as algorithms.", ko:"궁극적으로 플랫폼 경제는 알고리즘만큼이나 안전 인식에 의존합니다."}
    ],
    vocab: [
      ["heterogeneity","이질성/다양성","Platform heterogeneity shapes access."],
      ["friction cost (tax)","마찰 비용","Fear can raise friction costs."],
      ["federalization","연방화/연방 차원의 개입","Officials defended federalization."]
    ],
    quiz: [
      {q:"Which platform factor shapes who can work?", options:["ID requirements","App icon color","Food photos"], answer:0},
      {tf:true, stmt:"Merchants reported pickup delays and sales declines.", answer:true},
      {q:"What can reduce panic-driven inefficiencies?", options:["Timely, bilingual risk communication","Louder music","Random schedules"], answer:0}
    ],
    grammar: [
      {
        en:"Were enforcement to ease, delivery networks could stabilize.",
        ko:"만약 단속이 완화된다면 배달 네트워크는 안정될 수 있다.",
        point:"가정법 도치 (Were + to-infinitive)",
        q:"(___) enforcement to ease, delivery networks (___) stabilize.",
        options:["Were / could","If / must","Had / will"],
        answer:0
      },
      {
        en:"Drivers adapt so that work can continue despite uncertainty.",
        ko:"불확실성에도 일이 계속되도록 기사는 적응한다.",
        point:"so that 목적절",
        q:"Drivers adapt (___) work can continue.",
        options:["so that","because","even if"],
        answer:0
      }
    ]
  }
};

/* =========================
   공통 DOM 참조
   ========================= */
const levelTabs = {
  low: document.getElementById('tab-low'),
  high: document.getElementById('tab-high'),
  mid: document.getElementById('tab-mid'),
  hs: document.getElementById('tab-hs')
};
const voiceSelect = document.getElementById('voiceSelect');
const rateRange = document.getElementById('rate');
const rateLabel = document.getElementById('rateLabel');
const sentencesEl = document.getElementById('sentences');
const quizList = document.getElementById('quizList');
const vocabEl = document.getElementById('vocab');
const topicPill = document.getElementById('topicPill');
const cefrPill = document.getElementById('cefrPill');
const headlineEl = document.getElementById('headline');
const dekEl = document.getElementById('dek');
const grammarBox = document.getElementById('grammarBox');
const grammarList = document.getElementById('grammarList');
const grammarTitle = document.getElementById('grammarTitle');

const playAllBtn = document.getElementById('playAll');
const pauseBtn = document.getElementById('pauseBtn');
const resumeBtn = document.getElementById('resumeBtn');
const stopBtn = document.getElementById('stopBtn');

const toggleAllKoBtn = document.getElementById('toggleAllKoBtn');
let hideAllKo = false;

let LEVEL = 'mid';
let VOICES = [];
let CURRENT_INDEX = -1;
let PLAYING_ALL = false;

/* =========================
   음성 목록 로딩
   ========================= */
function loadVoices(){
  VOICES = speechSynthesis.getVoices().filter(v => v.lang && v.lang.startsWith('en'));
  voiceSelect.innerHTML = '';
  VOICES.forEach((v,i)=>{
    const opt=document.createElement('option');
    opt.value=i; opt.textContent=`${v.name} (${v.lang})`+(v.default?' • default':'');
    voiceSelect.appendChild(opt);
  });
  const preferred = VOICES.findIndex(v=>/en-US/i.test(v.lang)&&/Female|Jenny|Aria|Salli|female/i.test(v.name));
  voiceSelect.value = String(preferred>=0?preferred:0);
}
speechSynthesis.onvoiceschanged = loadVoices;
if (speechSynthesis.getVoices().length) loadVoices();

/* =========================
   속도 프리셋/표시
   ========================= */
document.querySelectorAll('.preset').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const r=parseFloat(btn.dataset.rate);
    rateRange.value=r; rateLabel.textContent=r.toFixed(2)+'×';
  });
});
rateRange.addEventListener('input',()=> rateLabel.textContent=parseFloat(rateRange.value).toFixed(2)+'×');

/* =========================
   레벨 전환
   ========================= */
levelTabs.low.addEventListener('click',()=>switchLevel('low'));
levelTabs.high.addEventListener('click',()=>switchLevel('high'));
levelTabs.mid.addEventListener('click',()=>switchLevel('mid'));
levelTabs.hs.addEventListener('click',()=>switchLevel('hs'));

/* =========================
   재생 컨트롤
   ========================= */
playAllBtn.addEventListener('click',()=>startPlayAll());
pauseBtn.addEventListener('click',()=>speechSynthesis.pause());
resumeBtn.addEventListener('click',()=>speechSynthesis.resume());
stopBtn.addEventListener('click',stopAll);

/* =========================
   한국어 전체 토글
   ========================= */
toggleAllKoBtn.addEventListener('click', () => {
  hideAllKo = !hideAllKo;
  applyAllKoVisibility();
});
function applyAllKoVisibility(){
  const kos = document.querySelectorAll('#sentences .ko');
  kos.forEach(el => { hideAllKo ? el.classList.add('hidden') : el.classList.remove('hidden'); });
  toggleAllKoBtn.textContent = hideAllKo ? '한국어 보이기' : '한국어 가리기';
}

/* =========================
   레벨 렌더링
   ========================= */
function switchLevel(lv){
  LEVEL=lv;
  for(const k of Object.keys(levelTabs)){
    levelTabs[k].setAttribute('aria-selected',k===lv?'true':'false');
  }
  const d=DATA[lv];
  topicPill.textContent=d.topic;
  cefrPill.textContent=d.cefr;
  headlineEl.textContent=d.headline;
  dekEl.textContent=d.dek;

  // 문장 렌더
  sentencesEl.innerHTML='';
  d.sents.forEach((o,i)=>{
    const div=document.createElement('div');
    div.className='sent'; div.dataset.idx=i;
    div.innerHTML = `<span class="en">${o.en}</span><span class="ko">${o.ko}</span>`;
    div.addEventListener('click',()=>playSentence(i,true));
    sentencesEl.appendChild(div);
  });

  // 단어장
  vocabEl.innerHTML='';
  (d.vocab||[]).forEach(([en,ko,ex])=>{
    const li=document.createElement('li');
    li.innerHTML=`<b>${en}</b> — ${ko}<br><span class="small">${ex}</span>`;
    vocabEl.appendChild(li);
  });

  // 퀴즈
  quizList.innerHTML='';
  (d.quiz||[]).forEach((q,i)=>{
    const li=document.createElement('li');
    if(q.tf){
      li.innerHTML=`<div>${q.stmt}</div>
      <div class="controls">
        <button data-q="${i}" data-a="true">True</button>
        <button data-q="${i}" data-a="false">False</button>
        <span class="small" id="qfb-${i}"></span>
      </div>`;
    }else{
      const opts=q.options.map((o,oi)=>`<button data-q="${i}" data-a="${oi}">${o}</button>`).join(' ');
      li.innerHTML=`<div>${q.q}</div><div class="controls">${opts}<span class="small" id="qfb-${i}"></span></div>`;
    }
    quizList.appendChild(li);
  });
  quizList.querySelectorAll('button').forEach(b=>{
    b.addEventListener('click',(e)=>{
      const qidx=parseInt(e.target.dataset.q,10);
      const ansRaw=e.target.dataset.a;
      const dataQ=DATA[LEVEL].quiz[qidx];
      const correct = dataQ.tf ? (String(dataQ.answer)===ansRaw) : (dataQ.answer===parseInt(ansRaw,10));
      document.getElementById('qfb-'+qidx).textContent = correct?'정답!':'다시 생각해봐요';
    });
  });

  // 문법
  if(d.grammar){
    grammarBox.style.display='';
    const titleMap = {
      low:"문법 포인트 (초등 저학년)",
      high:"문법 포인트 (초등 고학년)",
      mid:"문법 포인트 (중학생)",
      hs:"문법 포인트 (고등/수능)"
    };
    grammarTitle.textContent = titleMap[LEVEL] || "문법 포인트";
    grammarList.innerHTML='';
    d.grammar.forEach((g,i)=>{
      const li=document.createElement('li');
      const opts=g.options.map((o,oi)=>`<button data-g="${i}" data-a="${oi}">${o}</button>`).join(' ');
      li.innerHTML = `<div><b>${g.en}</b><br><span class="small">${g.ko}</span><br><span class="small">포인트: ${g.point}</span></div>
                      <div class="controls"><span class="small">${g.q}</span></div>
                      <div class="controls">${opts}<span class="small" id="gfb-${i}"></span></div>`;
      grammarList.appendChild(li);
    });
    grammarList.querySelectorAll('button').forEach(btn=>{
      btn.addEventListener('click',(e)=>{
        const gidx=parseInt(e.target.dataset.g,10);
        const ans=parseInt(e.target.dataset.a,10);
        const cor=DATA[LEVEL].grammar[gidx].answer;
        document.getElementById('gfb-'+gidx).textContent=(ans===cor)?'정답!':'다시 시도해보세요';
      });
    });
  }else{
    grammarBox.style.display='none';
    grammarList.innerHTML='';
  }

  applyAllKoVisibility();
  stopAll();
}

// 초기 레벨: 중학생
switchLevel('mid');

/* =========================
   음성 합성
   ========================= */
function getSelectedVoice(){
  const idx=parseInt(voiceSelect.value||'0',10);
  return VOICES[idx]||null;
}
function markActive(i){
  sentencesEl.querySelectorAll('.sent').forEach((el,j)=>{ el.classList.toggle('active',j===i); });
}
function clearMarks(){ sentencesEl.querySelectorAll('.sent').forEach(el=>el.classList.remove('active')); }
function stopAll(){ PLAYING_ALL=false; CURRENT_INDEX=-1; speechSynthesis.cancel(); clearMarks(); }

function playSentence(i,repeat=false){
  stopAll();
  const d=DATA[LEVEL]; const text=d.sents[i].en;
  CURRENT_INDEX=i; markActive(i);
  const u=new SpeechSynthesisUtterance(text);
  const v=getSelectedVoice(); if(v) u.voice=v;
  u.lang=(v&&v.lang)||'en-US'; u.rate=parseFloat(rateRange.value); u.pitch=1.0;
  u.onend=()=>{ if(repeat){ setTimeout(()=>playSentence(i,true),250);} else { CURRENT_INDEX=-1; clearMarks(); } };
  speechSynthesis.speak(u);
}

function startPlayAll(){
  stopAll(); PLAYING_ALL=true;
  const d=DATA[LEVEL]; let i=0;
  const next=()=>{
    if(!PLAYING_ALL) return;
    if(i>=d.sents.length){ stopAll(); return; }
    CURRENT_INDEX=i; markActive(i);
    const u=new SpeechSynthesisUtterance(d.sents[i].en);
    const v=getSelectedVoice(); if(v) u.voice=v;
    u.lang=(v&&v.lang)||'en-US'; u.rate=parseFloat(rateRange.value); u.pitch=1.0;
    u.onend=()=>{ setTimeout(()=>{ i++; next(); }, 220); };
    speechSynthesis.speak(u);
  };
  next();
}

/* =========================
   키보드 단축키
   ========================= */
window.addEventListener('keydown',(e)=>{
  if(e.code==='Space'){
    e.preventDefault();
    if(speechSynthesis.speaking && !speechSynthesis.paused) speechSynthesis.pause();
    else speechSynthesis.resume();
  }
  if(e.code==='Digit1'){ switchLevel('low'); }
  if(e.code==='Digit2'){ switchLevel('high'); }
  if(e.code==='Digit3'){ switchLevel('mid'); }
  if(e.code==='Digit4'){ switchLevel('hs'); }
});
</script>
</body>
</html>
